{% include 'partials/js_student.html' %}

<script>
  $(document).ready(function () {
    // Dropdown menu
    $('.dropdown').hover(function () {
      $(this).find('.dropdown-content').first().stop(true, true).slideDown(150);
    }, function () {
      $(this).find('.dropdown-content').first().stop(true, true).slideUp(105)
    });

    // Update aria-invalid attribute on inputs and selects
    let inputs = $('input');
    inputs = inputs.add($('select'));
    $(inputs).on('change', function () {
      updateAriaInvalid(this);
    });
    $(inputs).each(function () {
      updateAriaInvalid(this);
    });
  });

  function updateAriaInvalid(object) {
    if ($(object).val() === '') {
      $(object).removeAttr('aria-invalid');
    } else if ($(object).is(':invalid')) {
      $(object).attr('aria-invalid', 'true');
    } else {
      $(object).attr('aria-invalid', 'false');
    }
  }
</script>